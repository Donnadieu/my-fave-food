<%= render 'layouts/form_messages' %>
<%= form_for place do |f| %>
    <%= hidden_field(:place, :user_id, value: current_user.id) %>

    <div class="form-group">
      <%= f.label :name %>
      <%= f.text_field :name, class: 'form-control' %>
    </div>

    <div class="form-group">
      <%= f.label :address %>
      <%= f.text_field :address, class: 'form-control' %>
    </div>

    <div class="form-group">
      <%= f.label :city %>
      <%= f.text_field :city, class: 'form-control' %>
    </div>

    <div class="form-group">
      <%= f.label :state %>
      <%= f.collection_select :state, us_states, :last, :first, class: 'form-control' %>
    </div>

    <div class="form-group">
      <%= f.label :zip_code %>
      <%= f.text_field :zip_code, class: 'form-control' %>
    </div>

    <div class="form-group">
      <%= f.collection_check_boxes :item_ids, items, :id, :name %>
    </div>

    <%= f.fields_for :items, place.items.build do |i| %>

        <div class="form-group">
          <%= i.label :name, 'New Item Name' %>
          <%= i.text_field :name, class: 'form-control' %>
        </div>

        <div class="form-group">
          <%= i.label :rating, 'New Item Rating (1-5)' %>
          <%= i.number_field :rating, in: 1..5, step: 1, class: 'form-control' %>
        </div>

        <div class="form-group">
          <%= i.label :notes, 'New Item Notes' %>
          <%= i.text_area :notes, class: 'form-control' %>
        </div>
    <% end %>

    <%= f.submit class: 'btn btn-info' %>
<% end %>